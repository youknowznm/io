<% include ./common/header.ejs %>

<% if (articles[0] === undefined) {%>

    <p class="empty-msg">No articles found.</p>

<%} else {%>

    <% for (let article of articles) {%>
        <div class="article" data-id="<%= article._id %>">
            <div class="heading">
                <h1 class="title">
                    <%-: article.title | breakToSpans %>
                </h1>
                <p class="summary">
                    <%= article.summary %>
                </p>
            </div>

            <div class="tags">
                <% for (let i = 0; i < article.tags.length; i++) {%>
                    <% let tag = article.tags[i] %>
                    <a class="tag" href="/<%= pageTitle %>s?tag=<%= tag %>">
                        <button class="jm-button" data-text="<%= tag %>"></button>
                    </a>
                <%}%>
            </div>

        </div>
    <%}%>

    <div class="float-clearer"></div>

<%}%>

<% include ./common/footer.ejs %>
