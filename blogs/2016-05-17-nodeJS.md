---
layout: default
title: NodeJS
---

- node.js在终端中运行。

### 模块

- 一般将代码拆分到不同JS文件（模块）中，文件路径即模块名：
    
```javascript
 /*
 param {string} path: 以`'./'`（相对）或`'/'`和`'C:'`（绝对）开头的模块路径可接受js和json；`'.js'`扩展名可省略
                     参数为内置模块名称时，不解析路径，返回内部模块的导出对象
                     参数为`'foo/bar'`形式时，尝试访问相对路径中的`node_modules`目录下的参数路径
                     参数为`'foo/bar'`形式时，尝试访问`NODE_PATH`环境变量规定的路径，以';'分隔
 */
 require(path){}
```

* `exports {object}`
     当前模块导出的对象或函数
     当前模块被调用时，得到的就是`exports`对象。类似`RequireJS`中`factory`参数的返回值
* `module {object}`
     当前的模块。`exports`为其属性之一

一个模块只在第一次调用时执行一次，之后重复使用缓存的导出对象。
传递给NodeJS用于启动的模块是主模块。

### 包

- 由多个子模块组成的大模块叫做包。
    * 这些子模块在同一目录里，其中的入口模块之导出对象被作为包的导出对象。
    * 加载名为`index.js`的模块时，可用其所在目录的路径代替模块文件路径，这样做更有整体感。
    * 可通过模块目录下的`package.json`指定入口模块的路径。

### NPM

- 在工程目录下使用`npm install xxx(@<version>?)即可安装相应版本的第三方包，默认为最新版本。加'-g'安装至全域环境下。
- 在`package.json`中`dependencies`属性中以`包名：版本号`形式指定所有需要的依赖后，可使用`npm install`批量安装它们。



